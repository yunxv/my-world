<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <title>SS的小世界</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="css/style.css" />
</head>
<body>
  <div id="app" class="app">
    <!-- 顶部标题区 -->
    <header class="app-header">
      <div class="header-decoration header-decoration--top"></div>
      <h1 class="app-title">SS的小世界</h1>
      <button class="icon-button header-search-btn" aria-label="搜索">
        🔍
      </button>
      <div class="header-decoration header-decoration--bottom"></div>
    </header>

    <!-- 搜索区（默认折叠） -->
    <section id="searchPanel" class="search-panel collapsed" aria-hidden="true">
      <div class="search-input-wrapper">
        <span class="search-input-icon">🔍</span>
        <input
          id="searchInput"
          type="text"
          class="search-input"
          placeholder="搜索心情、分类或日期..."
        />
        <button id="searchClearBtn" class="icon-button search-clear-btn" aria-label="清空搜索">
          ×
        </button>
      </div>
      <div id="searchInfo" class="search-info"></div>
    </section>

    <!-- 新建记录按钮 -->
    <section class="toolbar">
      <button id="newRecordBtn" class="primary-btn full-width">
        + 记录美好时刻
      </button>
    </section>

    <!-- 时间线 / 空状态 -->
    <main id="timelineContainer" class="timeline-container">
      <!-- 初始为空，由 JS 渲染 -->
    </main>

    <!-- 加载更多 -->
    <div id="loadMoreWrapper" class="load-more-wrapper hidden">
      <button id="loadMoreBtn" class="text-button">～ 加载更多 ～</button>
    </div>

    <!-- 新建 / 编辑记录视图（单页应用内切换） -->
    <section id="editorView" class="editor-view hidden" aria-hidden="true">
      <header class="editor-header">
        <button id="backToHomeBtn" class="icon-button back-btn" aria-label="返回">
          ←
        </button>
        <div class="editor-title-wrapper">
          <h2 id="editorTitle" class="editor-title">记录美好时刻</h2>
          <div class="editor-decoration"></div>
        </div>
      </header>

      <div class="editor-content">
        <!-- 照片上传 -->
        <div class="field-group">
          <label class="field-label">照片</label>
          <div id="photoUploadArea" class="photo-upload-area">
            <input
              id="photoInput"
              type="file"
              accept="image/jpeg,image/png"
              class="photo-input"
            />
            <div id="photoPlaceholder" class="photo-placeholder">
              <div class="photo-placeholder-icon">📷</div>
              <div class="photo-placeholder-text">点击上传照片</div>
            </div>
            <img id="photoPreview" class="photo-preview hidden" alt="照片预览" />
          </div>
          <div id="photoError" class="field-error hidden"></div>
        </div>

        <!-- 游戏分类 -->
        <div class="field-group">
          <label class="field-label">游戏分类：</label>
          <div class="category-group" role="radiogroup">
            <button
              type="button"
              class="category-btn"
              data-category="时空"
              aria-pressed="false"
            >
              <span class="category-emoji">🌌</span>
              <span class="category-text">时空</span>
              <span class="category-check">✓</span>
            </button>
            <button
              type="button"
              class="category-btn"
              data-category="宇宙"
              aria-pressed="false"
            >
              <span class="category-emoji">🪐</span>
              <span class="category-text">宇宙</span>
              <span class="category-check">✓</span>
            </button>
          </div>
          <div id="categoryError" class="field-error hidden"></div>
        </div>

        <!-- 心情文字 -->
        <div class="field-group">
          <label class="field-label">此刻心情：</label>
          <textarea
            id="moodInput"
            class="mood-textarea"
            rows="5"
            maxlength="200"
            placeholder="写下此刻的心情和感受..."
          ></textarea>
          <div class="textarea-footer">
            <span id="moodError" class="field-error hidden"></span>
            <span id="moodCount" class="char-counter">0/200字</span>
          </div>
        </div>

        <!-- 保存按钮 -->
        <div class="editor-actions">
          <button id="saveRecordBtn" class="primary-btn full-width" disabled>
            保存记录
          </button>
        </div>
      </div>
    </section>

    <!-- 删除确认对话框 -->
    <div id="confirmDialogOverlay" class="dialog-overlay hidden" aria-hidden="true">
      <div class="dialog">
        <div class="dialog-icon">⚠️</div>
        <div class="dialog-title">提示</div>
        <div class="dialog-content">
          <p>确定要删除这条记录吗？</p>
          <p>删除后无法恢复</p>
        </div>
        <div class="dialog-actions">
          <button id="cancelDeleteBtn" class="secondary-btn dialog-btn">
            取消
          </button>
          <button id="confirmDeleteBtn" class="danger-btn dialog-btn">
            确定
          </button>
        </div>
      </div>
    </div>

    <!-- Toast 提示 -->
    <div id="toast" class="toast"></div>
  </div>

  <script src="js/app.js"></script>
</body>
</html>